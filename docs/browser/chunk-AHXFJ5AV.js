import{a as F}from"./chunk-OYFCYTG7.js";import{l as E}from"./chunk-TAHB6GLZ.js";import{a as k}from"./chunk-4NH4H2V5.js";import"./chunk-ORF7TDXP.js";import"./chunk-Z3ODQKXR.js";import{$ as v,Eb as a,Fb as W,Gb as y,Ja as x,Mb as L,Na as l,Y as d,cb as b,eb as C,ib as g,ja as h,ka as p,kb as S,lb as w,mb as s,nb as o,ob as f,rb as T,vb as _,wb as u}from"./chunk-PRGVUTWH.js";import{a as A}from"./chunk-3RJIKSNN.js";import{e as I}from"./chunk-CWTPBX7D.js";var m=I(A());var B=(r,i)=>i.id;function D(r,i){if(r&1){let n=T();s(0,"div",3)(1,"div",4)(2,"div"),f(3,"img",5),o()(),s(4,"div",6)(5,"div")(6,"h3",7),a(7),o(),s(8,"p",8),a(9),o(),s(10,"button",9),_("click",function(){let e=h(n).$implicit,c=u(2);return p(c.confirmBox(e.id))}),f(11,"i",10),s(12,"h3",11),a(13,"remove"),o()()(),s(14,"div",12)(15,"button",13),_("click",function(){let e=h(n).$implicit,c=u(2);return p(c.addToCart(e._id))}),a(16,"Add To Cart "),o()()()()}if(r&2){let n=i.$implicit;l(3),C("src",n.imageCover,x)("alt",n.title),l(4),W(n.title),l(2),y("Price: ",n.price,"")}}function V(r,i){if(r&1&&(s(0,"section",0)(1,"div",1)(2,"h1",2),a(3,"My wish List"),o()(),S(4,D,17,4,"div",3,B),o()),r&2){let n=u();l(4),w(n.productsList)}}var N=(()=>{let i=class i{constructor(){this._WishlistService=d(F),this._CartService=d(k),this._ToastrService=d(E),this.productsList=null}ngOnDestroy(){this.getAllWishList?.unsubscribe(),this.removeAllWishList?.unsubscribe(),this.addToCartWishList?.unsubscribe()}ngOnInit(){this.getAllWishList=this._WishlistService.getWishlist().subscribe({next:t=>{this.productsList=t.data},error:t=>{console.log(t)}})}removeItem(t){this.removeAllWishList=this._WishlistService.removeProduct(t).subscribe({next:e=>{this._ToastrService.success(e.message,"Fresh Card"),localStorage.setItem("heart",e.data),this._WishlistService.getWishlist().subscribe({next:c=>{this.productsList=c.data}})},error:e=>{console.log(e)}})}addToCart(t){this.addToCartWishList=this._CartService.addProductsToCard(t).subscribe({next:e=>{this._ToastrService.success(e.message,"Fresh Card"),this._CartService.cartNumber.set(e.numOfCartItems)},error:e=>{console.log(e)}})}confirmBox(t){m.default.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(e=>{e.value?(m.default.fire("Deleted!","Your imaginary file has been deleted.","success"),this.removeItem(t)):e.dismiss===m.default.DismissReason.cancel&&m.default.fire("Cancelled","Your imaginary file is safe :)","error")})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=v({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[L],decls:1,vars:1,consts:[[1,"bg-main-light","rounded-4","shadow","p-4","my-2","w-75","mx-auto"],[1,"d-flex","align-items-center","justify-content-between"],[1,"h2"],[1,"row","mb-1","border-bottom","m-0"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","align-items-center","justify-content-between"],[1,"h5"],[1,"text-main"],[1,"text-danger","border-0","cr","btn","p-0","d-flex","align-items-center","justify-content-center",3,"click"],[1,"fa-solid","fa-trash"],[1,"h6","mt-1","text-danger","ms-2"],[1,"d-flex","align-items-center","gap-2"],[1,"cr","border-1","rounded-2","btn-green","p-2",3,"click"]],template:function(e,c){e&1&&b(0,V,6,0,"section",0),e&2&&g(0,c.productsList?0:-1)}});let r=i;return r})();export{N as WishlistComponent};
