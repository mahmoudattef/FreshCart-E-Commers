import{a as q}from"./chunk-SQZSVQR7.js";import{a as Z}from"./chunk-SOZ6RFRQ.js";import{a as J,b as K,c as Q,d as X,e as Y}from"./chunk-225M4GPG.js";import{a as G}from"./chunk-QUAW2VPE.js";import{a as ee}from"./chunk-OYFCYTG7.js";import{a as N,c as j,g as $,l as z}from"./chunk-RIUDB373.js";import{l as R}from"./chunk-TAHB6GLZ.js";import{a as V}from"./chunk-4NH4H2V5.js";import{d as U}from"./chunk-2HWPXV2S.js";import"./chunk-ORF7TDXP.js";import{m as B,o as O}from"./chunk-Z3ODQKXR.js";import{$ as F,Eb as c,Fb as h,Gb as I,Ib as E,Ja as w,Jb as k,Kb as D,Mb as M,Na as o,Nb as A,Ob as W,Tb as _,Ub as L,Vb as P,Y as p,cb as g,eb as d,ib as y,ja as C,jb as H,ka as S,kb as f,lb as v,mb as a,nb as s,ob as m,rb as T,vb as b,wb as u}from"./chunk-PRGVUTWH.js";import"./chunk-CWTPBX7D.js";var te=(e,t)=>t._id,ie=(e,t)=>t.id,re=e=>["/details",e],ne=()=>[1,2,3,4,5];function ae(e,t){e&1&&m(0,"img",11)}function oe(e,t){e&1&&m(0,"img",12)}function se(e,t){e&1&&m(0,"img",13)}function le(e,t){e&1&&m(0,"img",14)}function me(e,t){e&1&&m(0,"img",15)}function ce(e,t){if(e&1&&(a(0,"div",16),m(1,"img",17),a(2,"h3",18),c(3),s()()),e&2){let i=u().$implicit;o(),d("src",i.image,w)("alt",i.name),o(2),h(i.name)}}function pe(e,t){e&1&&g(0,ce,4,3,"ng-template",3)}function de(e,t){e&1&&m(0,"i",21)}function ue(e,t){if(e&1){let i=T();a(0,"i",29),b("click",function(){C(i);let n=u().$implicit,l=u();return S(l.addWishList(n.id))}),s()}}function ge(e,t){e&1&&(a(0,"span"),m(1,"i",30),s())}function he(e,t){e&1&&m(0,"i",26)}function _e(e,t){if(e&1){let i=T();a(0,"div",4)(1,"div",19)(2,"div",20)(3,"span"),g(4,de,1,0,"i",21)(5,ue,1,0),s(),m(6,"img",22),a(7,"h3",23),c(8),_(9,"uppercase"),s(),a(10,"h4",24),c(11),_(12,"termtext"),s(),a(13,"div",25)(14,"span"),c(15),_(16,"currency"),s(),a(17,"div"),f(18,ge,2,0,"span",null,H),g(20,he,1,0,"i",26),a(21,"span",27),c(22),s()()()(),a(23,"button",28),b("click",function(){let n=C(i).$implicit,l=u();return S(l.addCart(n.id))}),c(24,"add to cart "),s()()()}if(e&2){let i=t.$implicit,r=u();o(2),d("routerLink",W(16,re,i.id)),o(2),y(4,r.wishId.includes(i.id)?4:5),o(2),d("src",i.imageCover,w)("alt",i.title),o(2),h(L(9,9,i.category.name)),o(3),h(P(12,11,i.title,2)),o(4),I("",L(16,14,i.price),"EGP"),o(3),v(A(18,ne).slice(0,i.ratingsAverage)),o(2),y(20,i.ratingsAverage%1!==0?20:-1),o(2),h(i.ratingsAverage)}}var Ve=(()=>{let t=class t{constructor(){this._ProductsService=p(G),this._CategoriesService=p(q),this._CartService=p(V),this._ToastrService=p(R),this._NgxSpinnerService=p(Z),this._WishlistService=p(ee),this.productsList=[],this.categoriesList=[],this.isLoading=!1,this.wishId=null,this.text="",this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,dots:!1,navSpeed:700,navText:["",""],items:1,nav:!0},this.customOptionsCat={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1}}ngOnDestroy(){this.getAllProductSub?.unsubscribe(),this.getAllCategorySub?.unsubscribe(),this.addWishListUnsub?.unsubscribe(),this.addCartUnsub?.unsubscribe()}ngOnInit(){this.getAllCategorySub=this._CategoriesService.getAllCategories().subscribe({next:r=>{this.categoriesList=r.data,this.isLoading=!0},error:r=>{console.log(r),this.isLoading=!1}}),this.getAllProductSub=this._ProductsService.getAllProducts().subscribe({next:r=>{this.productsList=r.data,this.isLoading=!0,this.wishId=r.data,localStorage.getItem("heart")!==null&&(this.wishId=localStorage.getItem("heart"))},error:r=>{console.error(r),this.isLoading=!1}})}addCart(r){this.addCartUnsub=this._CartService.addProductsToCard(r).subscribe({next:n=>{this._ToastrService.success(n.message,"Fresh Card"),this._CartService.cartNumber.set(n.numOfCartItems)},error:n=>{console.log(n)}})}addWishList(r){this.addWishListUnsub=this._WishlistService.addProductToWhishList(r).subscribe({next:n=>{this._ToastrService.success(n.message,"Fresh Card"),this.wishId=n.data,localStorage.setItem("heart",this.wishId.toString())},error:n=>{console.log(n)}})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=F({type:t,selectors:[["app-home"]],standalone:!0,features:[M],decls:26,vars:6,consts:[[1,"row"],[1,"col-sm-12","col-md-10","g-0"],[3,"options"],["carouselSlide",""],[1,"col-sm-12","col-md-2"],["src","./assets/images/slider-2.jpeg","height","150px","alt","",1,"w-100"],["src","./assets/images/slider-image-2.jpeg","height","150px","alt","",1,"w-100"],[1,"mt-1","mb-4","mx-4"],[1,"h3","text-main"],["type","search","placeholder","Search By Name",1,"form-control","w-50","mx-auto","my-5","py-2",3,"ngModelChange","ngModel"],[1,"row","g-3"],["src","./assets/images/spiner1.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/spiner2.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/spiner3.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/spiner4.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/spiner5.avif","height","300px","alt","",1,"w-100"],[1,"rounded-circle"],["height","250px",1,"w-100",3,"src","alt"],[1,"h6","text-main"],[1,"product","p-2"],[3,"routerLink"],[1,"fa-regular","fa-heart","fa-xl","cr","text-danger"],[1,"w-100","my-1",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-regular","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fa-regular","fa-heart","fa-xl","cr","text-main",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(n,l){n&1&&(a(0,"section")(1,"div",0)(2,"div",1)(3,"div")(4,"owl-carousel-o",2),g(5,ae,1,0,"ng-template",3)(6,oe,1,0,"ng-template",3)(7,se,1,0,"ng-template",3)(8,le,1,0,"ng-template",3)(9,me,1,0,"ng-template",3),s()()(),a(10,"div",4)(11,"div"),m(12,"img",5)(13,"img",6),s()()()(),a(14,"section")(15,"owl-carousel-o",2),f(16,pe,1,0,null,3,te),s()(),a(18,"section",7)(19,"h2",8),c(20,"Pupoler Products:"),s(),a(21,"input",9),D("ngModelChange",function(x){return k(l.text,x)||(l.text=x),x}),s(),a(22,"div",10),f(23,_e,25,19,"div",4,ie),_(25,"search"),s()()),n&2&&(o(4),d("options",l.customOptionsMain),o(11),d("options",l.customOptionsCat),o(),v(l.categoriesList),o(5),E("ngModel",l.text),o(2),v(P(25,3,l.productsList.slice(0,12),l.text)))},dependencies:[Q,K,J,z,N,j,$,U,B,O,X,Y]});let e=t;return e})();export{Ve as HomeComponent};
